# subs must add
# - view_finder
# - motor system

defaults:
  - /experiment/config/eval@config
  - /experiment/salience/logging/eval@config.logging
  - /experiment/salience/sensor_modules/patch/eval@config.monty_config.sensor_module_configs.sensor_module_0
  - /experiment/salience/learning_modules/evidence@config.monty_config.learning_module_configs.learning_module_0
  - /experiment/salience/env_interface/defaults@config.env_interface_config


_target_: tbp.monty.frameworks.experiments.object_recognition_experiments.MontyObjectRecognitionExperiment
config:
  
  do_train: false
  n_train_epochs: 0
  max_train_steps: 0
  supervised_lm_ids: []

  do_eval: true
  n_eval_epochs: 5
  max_eval_steps: 500
  min_lms_match: 1
  model_name_or_path: ""

  max_total_steps: 5000
  show_sensor_output: false
  seed: 42

  monty_config:
    
    monty_class: ${monty.class:tbp.monty.frameworks.models.evidence_matching.model.MontyForEvidenceGraphMatching}
    monty_args:
      min_eval_steps: 10
      min_train_steps: 10
      max_total_steps: 1000
      num_exploratory_steps: 500
    sm_to_agent_dict:
      patch: ${monty.agent_id:agent_id_0}
      view_finder: ${monty.agent_id:agent_id_0}
    sm_to_lm_matrix:
      - - 0
    lm_to_lm_matrix: null
    lm_to_lm_vote_matrix: null
  
  eval_env_interface_class: ${monty.class:tbp.monty.frameworks.environments.embodied_data.InformedEnvironmentInterface}
  eval_env_interface_args:
    parent_to_child_mapping: null
    object_names: ${project.objects.all}
    object_init_sampler:
      _target_: tbp.monty.frameworks.config_utils.make_env_interface_configs.PredefinedObjectInitializer
      rotations: ${project.rotations.random_5}
